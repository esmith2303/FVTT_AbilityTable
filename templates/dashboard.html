<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>Skill</th>
        {{#each players}}
          <th>{{this.name}}</th>
        {{/each}}
      </tr>
    </thead>
    <tbody>
      {{#if players.length}}
        {{#with (lookup players 0)}}
          {{#if this.skills}}
            {{#each (keys this.skills) as |skillName|}}
              <tr>
                <td>{{skillName}}</td>
                {{#each ../players}}
                  <td>{{lookup this.skills skillName}}</td>
                {{/each}}
              </tr>
            {{/each}}
          {{else}}
            <tr><td colspan="{{players.length}}">No skills found for first player.</td></tr>
          {{/if}}
        {{/with}}
      {{else}}
        <tr><td>No players found.</td></tr>
      {{/if}}
    </tbody>
  </table>
</div>
